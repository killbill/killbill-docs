<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 2.0.12"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.staticaly.com/gh/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.css"><title>Kill Bill development</title><style>/*Default CSS*/

/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
/* html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%} */
body{margin:0}
a{background:transparent; text-decoration: none !important;}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
/* button,input,select,textarea{font-family:inherit;font-size:100%;margin:0} */
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
/* body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto} */
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
    h1{font-size:2.75em}
    h2{font-size:2.3125em}
    h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
    h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
    body.toc2{padding-left:15em;padding-right:0}
    #toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
    #toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
    #toc.toc2>ul{font-size:.9em;margin-bottom:0}
    #toc.toc2 ul ul{margin-left:0;padding-left:1em}
    #toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
    body.toc2.toc-right{padding-left:0;padding-right:15em}
    body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
    #toc.toc2{width:20em}
    #toc.toc2 #toctitle{font-size:1.375em}
    #toc.toc2>ul{font-size:.95em}
    #toc.toc2 ul ul{padding-left:1.25em}
    body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:#2E3336;padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
    *{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
    a{color:inherit!important;text-decoration:underline!important}
    a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
    a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
    abbr[title]:after{content:" (" attr(title) ")"}
    pre,blockquote,tr,img{page-break-inside:avoid}
    thead{display:table-header-group}
    img{max-width:100%!important}
    p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
    h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
    #toc,.sidebarblock,.exampleblock>.content{background:none!important}
    #toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
    .sect1{padding-bottom:0!important}
    .sect1+.sect1{border:0!important}
    #header>h1:first-child{margin-top:1.25rem}
    body.book #header{text-align:center}
    body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
    body.book #header .details{border:0!important;display:block;padding:0!important}
    body.book #header .details span:first-child{margin-left:0!important}
    body.book #header .details br{display:block}
    body.book #header .details br+span:before{content:none!important}
    body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
    body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
    .listingblock code[data-lang]:before{display:block}
    #footer{background:none!important;padding:0 .9375em}
    #footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
    .hide-on-print{display:none!important}
    .print-only{display:block!important}
    .hide-for-print{display:none!important}
    .show-for-print{display:inherit!important}}

  .listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments  { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */

/*Custom CSS*/
body {
  background: #F5F5F5;
}
#header-main-title {
  float: left;
}
#cards {
  clear: both;
}
#cards .btn-primary {
  background-color: #1F7CB5;
  border-color: #1F7CB5;
}
#asciinema-player-section {
  margin-bottom: 25px;
}
/* .container{
    max-width: 100%;
} */
.logo{
    width: 70%;
    padding-top: 20px;
    padding-bottom: 10px;
}
#main-row {
  min-height: 100%;
  height: 100%;
}
#toc {
  border-bottom: none;
  /* position: fixed; */
  overflow-y: auto;
  margin:0;
top: 0px;
z-index: 9;
/* position: relative !important; */
  
}

#toc .nav-link {
  font-size: 13px;
}
.toc{
  margin-top: 116px;
  max-width: 223px;

}
#toctitle{
    font-size: 1.2em;
}
#aws-link {
  width: 80%;
}
.sectlevel1{
    padding-left: 7px;
}
/* .border-columns{ */
    /* background-color: #2E3336; */
/* } */
.footer {
    display: block;
    bottom: 0;
    width: 75%;
    height: 40px;
    line-height: 40px;
    background-color: #2E3336;
    margin: 0 auto;
}
.footer > .container {
    padding-right: 15px;
    padding-left: 15px;
}
nav[data-toggle=toc] .nav>li>a {
    display: block;
    padding: 4px 20px;
    font-size: 13px;
    font-weight: 500;
    color: rgba(0,0,0,.65);
}
nav[data-toggle=toc] .nav>li>a:hover {
    background-color: #ba3925;
    color: rgba(0,0,0,.65);
}
.text-muted {
    color: rgba(0,0,0,.65)!important;
}
/* nav[data-toggle='toc'] {
    top: 80px;
} */
nav[data-toggle=toc] .nav .nav>li>a, nav[data-toggle=toc] .nav .nav>li>a:focus, nav[data-toggle=toc] .nav .nav>li>a:hover {
    padding-left: 10px;
}
nav[data-toggle=toc] .nav .nav>li>.active, nav[data-toggle=toc] .nav .nav>li>.active:focus, nav[data-toggle=toc] .nav .nav>li>.active:hover, nav[data-toggle=toc] .nav-link.active, nav[data-toggle=toc] .nav-link.active:focus, nav[data-toggle=toc] .nav-link.active:hover {
    padding-left: 10px;
    font-weight: 700;
    color: #ba3925;
    background-color: transparent;
    border-left: 2px solid #ba3925;
}
#toc > ul > li > ul {
  margin-left: 10px;
}

/* small screens */
@media (max-width: 767px) {
    /* override stickyness so that the navigation does not follow scrolling */
    nav[data-toggle='toc'] {
        margin-bottom: 42px;
        /* position: static !important; */
    }
    nav[data-toggle='toc'] .nav .active .nav {
        display: none;
    }
    #aws-link {
      width: 50%;
      margin-bottom: 5px;
    }
}



html,
body {
  height: 100%;
}

/* Scrollbar styles */
#toc::-webkit-scrollbar {
  width: 3px;
}

/* Track */
#toc::-webkit-scrollbar-track {
  background: transparent;
}

/* Handle */
#toc::-webkit-scrollbar-thumb {
  background: rgb(182, 182, 182);
}

/* Handle on hover */
#toc::-webkit-scrollbar-thumb:hover {
  background: rgb(163, 163, 163);
}

/* Gernal styles */
.toggle-nav-btn {
  position: absolute;
  right: 30px;
  top: 34px;

}
.bd-sidebar {
  height: 100vh !important;
  
}
.bd-sidebar .nav>li>a {
  padding-left: 10px;
  margin-left: 5px;
}
.main-link {
  border-left: 2px solid #ba3925;
  color: #ba3925 !important;
  cursor: pointer;
  font-weight: bold;
}

/* card styles */
.card-wrapper {
  height: 280px;
  -webkit-box-shadow: 0 0 30px rgba(0, 0, 0, 0.1); /* Safari 3-4, iOS 4.0.2 - 4.2, Android 2.3+ */
  -moz-box-shadow: 0 0 30px rgba(0, 0, 0, 0.1); /* Firefox 3.5 - 3.6 */
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
}
.card-wrapper .card-body {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.card-wrapper .card-body .card-title {
  color: #ba3925;
  font-size: 22px;
  font-weight: 500;
}
#cards .btn-primary {
  background-color: #1f7cb5;
  border-color: #1f7cb5;
}
.LogoAndToggle{
  border-bottom: 1px solid gainsboro;
    margin: 0px;
    display: block;
    padding-bottom: 10px;
     background: whitesmoke;
}
/* media quires */
@media (max-width: 767px) {
  .bd-sidebar {
    height: 100px !important;
    border: 0;
  }

  #toc{
    min-width: 100%;
    top: 93px;
  }
  #toc.show{
    border-bottom: none;
    left: 0;
    min-width: 100%;
    margin: 0;
    box-shadow: 0px 7px 10px 2px #ababab3b;
  }
  .LogoAndToggle{
    display: flex;
    justify-content: space-around;
    position: fixed;
    width: 100%;
   margin: 0;

  }
  .bd-links {
    background: white;
    z-index: 9;
    position: relative;
    max-height: 300px;
    overflow-y: scroll;
    margin-top: -5px;
    border-bottom: 1px solid #d6d6d6;
  }
}
@media (min-width: 768px) {
  .bd-links {
    height: 100% !important;
    overflow-y: auto;
    display: block !important;
  }
  #toc {
   position: relative;
    top: 0;
    max-width: 100%;
    margin: 0;
  }
  .toc{
    height: calc(100vh - 97px) !important;
  }
  .bd-sidebar {
    padding-right: 20px;
    top: 0 !important;
  }
}

.bdr-right{
  border-right: 1px solid gainsboro;
}
.bdr-left{
  border-left: 1px solid gainsboro;
}


nav[data-toggle=toc] .nav>li>a:focus, nav[data-toggle=toc] .nav>li>a:hover{
  border-left: 2px solid #ba3925;
}
nav[data-toggle=toc] .nav>li>a:hover{
  background-color: #ba39251a;
  color: rgba(0,0,0,.65);
}
pre.pygments .tok-n {
    color: rgba(0,0,0,.9) !important;
}</style>
<style>pre { line-height: 125%; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
pre.pygments .hll { background-color: #49483e }
pre.pygments { background: #272822; color: #f8f8f2 }
pre.pygments .tok-c { color: #75715e } /* Comment */
pre.pygments .tok-err { color: #960050; background-color: #1e0010 } /* Error */
pre.pygments .tok-k { color: #66d9ef } /* Keyword */
pre.pygments .tok-l { color: #ae81ff } /* Literal */
pre.pygments .tok-n { color: #f8f8f2 } /* Name */
pre.pygments .tok-o { color: #f92672 } /* Operator */
pre.pygments .tok-p { color: #f8f8f2 } /* Punctuation */
pre.pygments .tok-ch { color: #75715e } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #75715e } /* Comment.Multiline */
pre.pygments .tok-cp { color: #75715e } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #75715e } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #75715e } /* Comment.Single */
pre.pygments .tok-cs { color: #75715e } /* Comment.Special */
pre.pygments .tok-gd { color: #f92672 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gi { color: #a6e22e } /* Generic.Inserted */
pre.pygments .tok-go { color: #66d9ef } /* Generic.Output */
pre.pygments .tok-gp { color: #f92672; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #75715e } /* Generic.Subheading */
pre.pygments .tok-kc { color: #66d9ef } /* Keyword.Constant */
pre.pygments .tok-kd { color: #66d9ef } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #f92672 } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #66d9ef } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #66d9ef } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #66d9ef } /* Keyword.Type */
pre.pygments .tok-ld { color: #e6db74 } /* Literal.Date */
pre.pygments .tok-m { color: #ae81ff } /* Literal.Number */
pre.pygments .tok-s { color: #e6db74 } /* Literal.String */
pre.pygments .tok-na { color: #a6e22e } /* Name.Attribute */
pre.pygments .tok-nb { color: #f8f8f2 } /* Name.Builtin */
pre.pygments .tok-nc { color: #a6e22e } /* Name.Class */
pre.pygments .tok-no { color: #66d9ef } /* Name.Constant */
pre.pygments .tok-nd { color: #a6e22e } /* Name.Decorator */
pre.pygments .tok-ni { color: #f8f8f2 } /* Name.Entity */
pre.pygments .tok-ne { color: #a6e22e } /* Name.Exception */
pre.pygments .tok-nf { color: #a6e22e } /* Name.Function */
pre.pygments .tok-nl { color: #f8f8f2 } /* Name.Label */
pre.pygments .tok-nn { color: #f8f8f2 } /* Name.Namespace */
pre.pygments .tok-nx { color: #a6e22e } /* Name.Other */
pre.pygments .tok-py { color: #f8f8f2 } /* Name.Property */
pre.pygments .tok-nt { color: #f92672 } /* Name.Tag */
pre.pygments .tok-nv { color: #f8f8f2 } /* Name.Variable */
pre.pygments .tok-ow { color: #f92672 } /* Operator.Word */
pre.pygments .tok-w { color: #f8f8f2 } /* Text.Whitespace */
pre.pygments .tok-mb { color: #ae81ff } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #ae81ff } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #ae81ff } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #ae81ff } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #ae81ff } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #e6db74 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #e6db74 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #e6db74 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #e6db74 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #e6db74 } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #e6db74 } /* Literal.String.Double */
pre.pygments .tok-se { color: #ae81ff } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #e6db74 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #e6db74 } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #e6db74 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #e6db74 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #e6db74 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #e6db74 } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #a6e22e } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #f8f8f2 } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #f8f8f2 } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #f8f8f2 } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #f8f8f2 } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #ae81ff } /* Literal.Number.Integer.Long */</style></head><body data-spy="scroll" data-target="#toc" class="book"><div class="container-fluid"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 bd-sidebar sticky-top border-columns border-right p-0"><div class="mx-auto text-center LogoAndToggle"><a href="/0.22/"><img class="logo rounded mx-auto d-block img-fluid" src="https://github.com/killbill/killbill-docs/raw/v3/userguide/assets/img/logo.png" /></a><button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3 toggle-nav-btn" type="button" data-toggle="collapse" data-target="#toc" aria-controls="toc" aria-expanded="false" aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div><nav class="collapse bd-links toc" id="toc" data-toggle="toc"></nav></div><div class="col-12 col-md-9 col-xl-10 border-right"><div id="header"><h1>Kill Bill development</h1></div><div id="content"><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>This guide explains how you can setup the Kill Bill development environment.</p></div></div></div>
<div class="sect1"><h2 id="_setting_up_kill_bill_in_your_development_environment">Setting up Kill Bill in your development environment</h2><div class="sectionbody"><div class="paragraph"><p>In order to set up Kill Bill in your development environment, there are a couple of things that you need to do like setting up the code in an IDE, configuring the database and building and running the application. This section covers all these steps. By the end of this section, you should have the code set up and Kill Bill server running in your development environment.</p></div>
<div class="sect2"><h3 id="_setting_up_code_in_an_ide">Setting up code in an IDE</h3><div class="paragraph"><p>You first need to set up the Kill Bill code in an IDE. You can use any IDE of your choice. This section explains setting up the code in Eclipse IDE. You can download the latest version of the Eclipse IDE from  <a href="https://www.eclipse.org/downloads/">here</a></p></div>
<div class="sect3"><h4 id="_cloning_the_repository">Cloning the Repository</h4><div class="paragraph"><p>The first step is to clone the Kill Bill repository. For this, you need to follow the steps given below:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Start Eclipse</p></li><li><p>Go to <strong>Git Repository view</strong> (Click on <code>Window &gt; Show View &gt; Other &gt; Git Repositories</code>)</p></li><li><p>Click on <strong>Clone a Git Repository and add the clone to this view</strong></p></li><li><p>In the Git Repository details, enter the Kill Bill Git URL <a class="bare" href="https://github.com/killbill/killbill">https://github.com/killbill/killbill</a> in the <strong>URI</strong> field.</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>If you have Git credentials, you can select <strong>https</strong> in the <strong>Protocol</strong> dropdown and enter your Git credentials in the <strong>User/Password</strong> fields .</p></li><li><p>If you do not have Git credentials , you can Select <strong>Git</strong> in the <strong>Protocol</strong> Dropdown. This disables the credentials fields.</p></li><li><p>Click <strong>Next</strong></p></li></ol></div></li><li><p>In the branch selection view, select the branch named <strong>master</strong> (By default, all the branches appear selected, you need to uncheck all branches except for <strong>master</strong>). Click <strong>Next</strong></p></li><li><p>Select the path on your computer where you would like to clone the code. This path will be referred to as <strong>PROJECT_ROOT</strong> from now on). For example, if you choose <code>C:/MyProjects/KillBill</code>, <strong>PROJECT_ROOT</strong> refers to this path. Click <strong>Finish</strong> (This starts the cloning process and may take a while depending on your internet speed)</p></li></ol></div>
<div class="paragraph"><p>Note that cloning the repository as specified above gives a read-only access to the repository. If you&#8217;d like to make changes to the repository, you need to fork the repository, make changes to your fork and create a Pull Request.</p></div></div>
<div class="sect3"><h4 id="_creating_an_eclipse_project">Creating an Eclipse Project</h4><div class="paragraph"><p>Once the repository is cloned, you need to create an Eclipse project. For this, you need to follow the steps given below:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Click on <code>File &gt; Import &gt; Maven &gt; Existing Maven Project</code>. Click <strong>Next</strong></p></li><li><p>Click <strong>Browse</strong>. Select the <strong>PROJECT_ROOT</strong> root directory and click  <strong>Finish</strong></p></li><li><p>Some of the Maven plugins used may not be available to m2e, so you may see errors as follows:<span class="image"><img src="https://github.com/killbill/killbill-docs/raw/v3/userguide/assets/img/development/m2e_plugin_errors.png" alt="m2e plugin errors"></span></p></li><li><p>Click <strong>Cancel</strong></p></li><li><p>Create a file <code>lifecycle-mapping-metadata.xml</code> as follows:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="xml"><span></span> <span class="tok-cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
 <span class="tok-nt">&lt;lifecycleMappingMetadata&gt;</span>
   <span class="tok-nt">&lt;pluginExecutions&gt;</span>
      <span class="tok-nt">&lt;pluginExecution&gt;</span>
         <span class="tok-nt">&lt;pluginExecutionFilter&gt;</span>
            <span class="tok-nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tok-nt">&lt;/groupId&gt;</span>
            <span class="tok-nt">&lt;artifactId&gt;</span>maven-antrun-plugin<span class="tok-nt">&lt;/artifactId&gt;</span>
            <span class="tok-nt">&lt;versionRange&gt;</span>1.4<span class="tok-nt">&lt;/versionRange&gt;</span>
            <span class="tok-nt">&lt;goals&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>run<span class="tok-nt">&lt;/goal&gt;</span>
            <span class="tok-nt">&lt;/goals&gt;</span>
         <span class="tok-nt">&lt;/pluginExecutionFilter&gt;</span>
         <span class="tok-nt">&lt;action&gt;</span>
            <span class="tok-nt">&lt;execute&gt;</span>
               <span class="tok-nt">&lt;runOnConfiguration&gt;</span>true<span class="tok-nt">&lt;/runOnConfiguration&gt;</span>
               <span class="tok-nt">&lt;runOnIncremental&gt;</span>true<span class="tok-nt">&lt;/runOnIncremental&gt;</span>
            <span class="tok-nt">&lt;/execute&gt;</span>
         <span class="tok-nt">&lt;/action&gt;</span>
      <span class="tok-nt">&lt;/pluginExecution&gt;</span>
      <span class="tok-nt">&lt;pluginExecution&gt;</span>
         <span class="tok-nt">&lt;pluginExecutionFilter&gt;</span>
            <span class="tok-nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="tok-nt">&lt;/groupId&gt;</span>
            <span class="tok-nt">&lt;artifactId&gt;</span>templating-maven-plugin<span class="tok-nt">&lt;/artifactId&gt;</span>
            <span class="tok-nt">&lt;versionRange&gt;</span>1.0-alpha-3<span class="tok-nt">&lt;/versionRange&gt;</span>
            <span class="tok-nt">&lt;goals&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>filter-sources<span class="tok-nt">&lt;/goal&gt;</span>
            <span class="tok-nt">&lt;/goals&gt;</span>
         <span class="tok-nt">&lt;/pluginExecutionFilter&gt;</span>
         <span class="tok-nt">&lt;action&gt;</span>
            <span class="tok-nt">&lt;execute&gt;</span>
               <span class="tok-nt">&lt;runOnConfiguration&gt;</span>true<span class="tok-nt">&lt;/runOnConfiguration&gt;</span>
               <span class="tok-nt">&lt;runOnIncremental&gt;</span>true<span class="tok-nt">&lt;/runOnIncremental&gt;</span>
            <span class="tok-nt">&lt;/execute&gt;</span>
         <span class="tok-nt">&lt;/action&gt;</span>
      <span class="tok-nt">&lt;/pluginExecution&gt;</span>
      <span class="tok-nt">&lt;pluginExecution&gt;</span>
         <span class="tok-nt">&lt;pluginExecutionFilter&gt;</span>
            <span class="tok-nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="tok-nt">&lt;/groupId&gt;</span>
            <span class="tok-nt">&lt;artifactId&gt;</span>build-helper-maven-plugin<span class="tok-nt">&lt;/artifactId&gt;</span>
            <span class="tok-nt">&lt;versionRange&gt;</span>[1.0,)<span class="tok-nt">&lt;/versionRange&gt;</span>
            <span class="tok-nt">&lt;goals&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>add-test-source<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>add-resource<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>add-test-resource<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>maven-version<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>add-source<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>parse-version<span class="tok-nt">&lt;/goal&gt;</span>
            <span class="tok-nt">&lt;/goals&gt;</span>
         <span class="tok-nt">&lt;/pluginExecutionFilter&gt;</span>
         <span class="tok-nt">&lt;action&gt;</span>
            <span class="tok-nt">&lt;execute&gt;</span>
               <span class="tok-nt">&lt;runOnConfiguration&gt;</span>true<span class="tok-nt">&lt;/runOnConfiguration&gt;</span>
               <span class="tok-nt">&lt;runOnIncremental&gt;</span>true<span class="tok-nt">&lt;/runOnIncremental&gt;</span>
            <span class="tok-nt">&lt;/execute&gt;</span>
         <span class="tok-nt">&lt;/action&gt;</span>
      <span class="tok-nt">&lt;/pluginExecution&gt;</span>
      <span class="tok-nt">&lt;pluginExecution&gt;</span>
         <span class="tok-nt">&lt;pluginExecutionFilter&gt;</span>
            <span class="tok-nt">&lt;groupId&gt;</span>com.hubspot.maven.plugins<span class="tok-nt">&lt;/groupId&gt;</span>
            <span class="tok-nt">&lt;artifactId&gt;</span>dependency-scope-maven-plugin<span class="tok-nt">&lt;/artifactId&gt;</span>
            <span class="tok-nt">&lt;versionRange&gt;</span>0.10<span class="tok-nt">&lt;/versionRange&gt;</span>
            <span class="tok-nt">&lt;goals&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>check<span class="tok-nt">&lt;/goal&gt;</span>
            <span class="tok-nt">&lt;/goals&gt;</span>
         <span class="tok-nt">&lt;/pluginExecutionFilter&gt;</span>
         <span class="tok-nt">&lt;action&gt;</span>
           <span class="tok-nt">&lt;ignore</span> <span class="tok-nt">/&gt;</span>
         <span class="tok-nt">&lt;/action&gt;</span>
      <span class="tok-nt">&lt;/pluginExecution&gt;</span>
      <span class="tok-nt">&lt;pluginExecution&gt;</span>
         <span class="tok-nt">&lt;pluginExecutionFilter&gt;</span>
            <span class="tok-nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tok-nt">&lt;/groupId&gt;</span>
            <span class="tok-nt">&lt;artifactId&gt;</span>maven-dependency-plugin<span class="tok-nt">&lt;/artifactId&gt;</span>
            <span class="tok-nt">&lt;versionRange&gt;</span>3.1.2<span class="tok-nt">&lt;/versionRange&gt;</span>
            <span class="tok-nt">&lt;goals&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>analyze-duplicate<span class="tok-nt">&lt;/goal&gt;</span>
               <span class="tok-nt">&lt;goal&gt;</span>analyze-only<span class="tok-nt">&lt;/goal&gt;</span>
            <span class="tok-nt">&lt;/goals&gt;</span>
         <span class="tok-nt">&lt;/pluginExecutionFilter&gt;</span>
         <span class="tok-nt">&lt;action&gt;</span>
            <span class="tok-nt">&lt;ignore</span> <span class="tok-nt">/&gt;</span>
         <span class="tok-nt">&lt;/action&gt;</span>
      <span class="tok-nt">&lt;/pluginExecution&gt;</span>
   <span class="tok-nt">&lt;/pluginExecutions&gt;</span>
<span class="tok-nt">&lt;/lifecycleMappingMetadata&gt;</span></code></pre></div></div></li><li><p>Go to <code>Window &gt; Preferences &gt; Maven &gt; Lifecycle Mappings</code>. Click <strong>Browse</strong> and select the path of the <code>lifecycle-mapping-metadata.xml</code> file. Click <code>Apply and Close</code></p></li><li><p>Build the project again (In Project Explorer, <code>Right click on killbill &gt; Maven &gt; Update Project &gt; OK</code>)</p></li><li><p>This will get rid of all the build errors. Your Eclipse workspace should look like this:<span class="image"><img src="https://github.com/killbill/killbill-docs/raw/v3/userguide/assets/img/development/eclipse_workspace.png" alt="eclipse workspace"></span></p></li></ol></div></div></div>
<div class="sect2"><h3 id="_configuring_the_database">Configuring the database</h3><div class="paragraph"><p>Before you can execute the code, you need to configure the Kill Bill database manually. By default Kill Bill expects <strong>MySQL</strong>, but you can also use <strong>PostgreSQL</strong></p></div>
<div class="sect3"><h4 id="_mysql_configuration">MySQL configuration</h4><div class="paragraph"><p>In order to configure MySQL, you need to follow the steps given below (These steps can be executed either via the <strong>MySQL Command line tool</strong> or via <strong>MySQLWorkBench</strong>):</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create a user corresponding to Kill Bill. You can run the following command :</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-k">create</span> <span class="tok-k">user</span> <span class="tok-n">killbilluser</span> <span class="tok-n">identified</span> <span class="tok-k">by</span> <span class="tok-s1">&#39;password&#39;</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Create a database corresponding to Kill Bill. You can run the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>    <span class="tok-k">create</span> <span class="tok-k">database</span> <span class="tok-n">killbill</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Select the Kill Bill database created above using the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-n">use</span> <span class="tok-n">killbill</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Run the Kill Bill DDL <a href="https://docs.killbill.io/latest/ddl.sql">here</a>.</p></li><li><p>Grant  privileges to the user created above on the Kill bill database using the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-k">GRANT</span> <span class="tok-k">ALL</span> <span class="tok-k">ON</span> <span class="tok-n">killbill</span><span class="tok-p">.</span><span class="tok-o">*</span> <span class="tok-k">TO</span> <span class="tok-s1">&#39;killbilluser&#39;</span> <span class="tok-p">;</span></code></pre></div></div></li></ol></div></div>
<div class="sect3"><h4 id="_postgresql_configuration">PostgreSQL configuration</h4><div class="paragraph"><p>In order to configure PostgreSQL, you need to follow the steps given below (These steps can be executed either via the command line <strong>psql</strong> tool or via <strong>pgAdmin</strong>):</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create a user corresponding to Kill Bill. You can run the following command :</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-k">CREATE</span> <span class="tok-k">ROLE</span> <span class="tok-n">killbilluser</span> <span class="tok-k">WITH</span> <span class="tok-n">LOGIN</span> <span class="tok-n">INHERIT</span> <span class="tok-k">CREATEDB</span> <span class="tok-n">CREATEROLE</span> <span class="tok-n">NOREPLICATION</span> <span class="tok-n">PASSWORD</span> <span class="tok-s1">&#39;killbill&#39;</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Create a database corresponding to Kill Bill. You can run the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-k">CREATE</span> <span class="tok-k">DATABASE</span> <span class="tok-n">killbill</span> <span class="tok-k">WITH</span> <span class="tok-k">OWNER</span> <span class="tok-o">=</span> <span class="tok-n">killbilluser</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Connect to the Kill Bill database created above. In psql, you can run the following:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>  <span class="tok-err">\</span><span class="tok-k">connect</span> <span class="tok-n">killbill</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Create the Kill Bill schema. Run the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>  <span class="tok-k">CREATE</span> <span class="tok-k">SCHEMA</span> <span class="tok-n">killbillschema</span> <span class="tok-k">authorization</span> <span class="tok-n">killbilluser</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Connect to the schema created above using the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>  <span class="tok-k">set</span> <span class="tok-k">schema</span> <span class="tok-s1">&#39;killbillschema&#39;</span><span class="tok-p">;</span></code></pre></div></div></li><li><p>Execute <a href="https://github.com/killbill/killbill/blob/master/util/src/main/resources/org/killbill/billing/util/ddl-postgresql.sql">this</a> schema extension DDL.</p></li><li><p>Run the Kill Bill DDL <a href="https://docs.killbill.io/latest/ddl.sql">here</a>. In psql, you  can run the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>  <span class="tok-err">\</span><span class="tok-n">i</span> <span class="tok-o">&lt;</span><span class="tok-n">ddl_file_path</span><span class="tok-o">&gt;</span></code></pre></div></div></li><li><p>Grant privileges to the schema using the following command:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span>  <span class="tok-k">GRANT</span> <span class="tok-k">ALL</span> <span class="tok-k">PRIVILEGES</span> <span class="tok-k">ON</span> <span class="tok-k">ALL</span> <span class="tok-n">TABLES</span> <span class="tok-k">IN</span> <span class="tok-k">SCHEMA</span> <span class="tok-n">killbillschema</span> <span class="tok-k">TO</span> <span class="tok-n">killbilluser</span><span class="tok-p">;</span></code></pre></div></div></li></ol></div>
<div class="paragraph"><p>Once the database configuration is done, you should have a database called <strong>killbill</strong>  with the following tables:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="sql"><span></span> <span class="tok-n">account_email_history</span>
 <span class="tok-n">account_emails</span>
 <span class="tok-n">account_history</span>
 <span class="tok-n">accounts</span>
 <span class="tok-n">audit_log</span>
 <span class="tok-n">blocking_state_history</span>
 <span class="tok-n">blocking_states</span>
 <span class="tok-n">bundle_history</span>
 <span class="tok-n">bundles</span>
 <span class="tok-n">bus_events</span>
 <span class="tok-n">bus_events_history</span>
 <span class="tok-n">bus_ext_events</span>
 <span class="tok-n">bus_ext_events_history</span>
 <span class="tok-n">catalog_override_block_definition</span>
 <span class="tok-n">catalog_override_phase_definition</span>
 <span class="tok-n">catalog_override_phase_usage</span>
 <span class="tok-n">catalog_override_plan_definition</span>
 <span class="tok-n">catalog_override_plan_phase</span>
 <span class="tok-n">catalog_override_tier_block</span>
 <span class="tok-n">catalog_override_tier_definition</span>
 <span class="tok-n">catalog_override_usage_definition</span>
 <span class="tok-n">catalog_override_usage_tier</span>
 <span class="tok-n">custom_field_history</span>
 <span class="tok-n">custom_fields</span>
 <span class="tok-n">invoice_billing_events</span>
 <span class="tok-n">invoice_history</span>
 <span class="tok-n">invoice_item_history</span>
 <span class="tok-n">invoice_items</span>
 <span class="tok-n">invoice_parent_children</span>
 <span class="tok-n">invoice_payment_control_plugin_auto_pay_off</span>
 <span class="tok-n">invoice_payment_history</span>
 <span class="tok-n">invoice_payments</span>
 <span class="tok-n">invoice_tracking_id_history</span>
 <span class="tok-n">invoice_tracking_ids</span>
 <span class="tok-n">invoices</span>
 <span class="tok-n">node_infos</span>
 <span class="tok-n">notifications</span>
 <span class="tok-n">notifications_history</span>
 <span class="tok-n">payment_attempt_history</span>
 <span class="tok-n">payment_attempts</span>
 <span class="tok-n">payment_history</span>
 <span class="tok-n">payment_method_history</span>
 <span class="tok-n">payment_methods</span>
 <span class="tok-n">payment_transaction_history</span>
 <span class="tok-n">payment_transactions</span>
 <span class="tok-n">payments</span>
 <span class="tok-n">roles_permissions</span>
 <span class="tok-n">rolled_up_usage</span>
 <span class="tok-n">service_broadcasts</span>
 <span class="tok-n">sessions</span>
 <span class="tok-n">subscription_event_history</span>
 <span class="tok-n">subscription_events</span>
 <span class="tok-n">subscription_history</span>
 <span class="tok-n">subscriptions</span>
 <span class="tok-n">tag_definition_history</span>
 <span class="tok-n">tag_definitions</span>
 <span class="tok-n">tag_history</span>
 <span class="tok-n">tags</span>
 <span class="tok-n">tenant_broadcasts</span>
 <span class="tok-n">tenant_kvs</span>
 <span class="tok-n">tenants</span>
 <span class="tok-n">user_roles</span>
 <span class="tok-n">users</span></code></pre></div></div></div></div>
<div class="sect2"><h3 id="_build">Build</h3><div class="paragraph"><p>Once you set up the code and database, the next step is to build the application. Kill Bill is a standard Maven project. In order to build Kill Bill, you need to follow the steps given below:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Ensure that you have <strong>Maven 3.5.2 or higher</strong> (It can be downloaded from <a href="http://maven.apache.org/download.cgi">here</a>)</p></li><li><p>Maven requires JDK. Ensure that you have <strong>JDK 8 or higher</strong> (It can be downloaded from
<a href="https://www.oracle.com/in/java/technologies/javase-downloads.html">here</a>)</p></li><li><p>Ensure that <strong>JAVA_HOME</strong> environment variable is set to the path of your JDK installation (For example, if JDK is installed at <code>C:\Software\jdk1.8.0_102</code>, you need to set <strong>JAVA_HOME</strong> to <code>C:\Software\jdk1.8.0_102</code>)</p></li><li><p>Navigate to <strong>PROJECT_ROOT</strong></p></li><li><p>Run the following command (The first time you run this, the build will take a considerable amount of time as Maven will download all the dependencies from the internet and cache them in the local repository (<code>~/.m2/repository</code>). Subsequent builds will be faster):</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span>  mvn clean install -DskipTests</code></pre></div></div></li><li><p>Verify that the following is displayed which confirms that the build is successful:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span> <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill ........................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">17</span>.938 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-api ....................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">23</span>.352 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-util ...................................... SUCCESS <span class="tok-o">[</span><span class="tok-m">01</span>:37 min<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-tenant .................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">23</span>.817 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-account ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">21</span>.540 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-catalog ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">44</span>.055 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-currency .................................. SUCCESS <span class="tok-o">[</span> <span class="tok-m">12</span>.204 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-subscription .............................. SUCCESS <span class="tok-o">[</span> <span class="tok-m">29</span>.722 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-entitlement ............................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">26</span>.420 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-junction .................................. SUCCESS <span class="tok-o">[</span> <span class="tok-m">17</span>.059 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-invoice ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">36</span>.480 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-overdue ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">23</span>.769 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-payment ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">36</span>.311 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-beatrix ................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">29</span>.213 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-jaxrs ..................................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">36</span>.799 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles .................................. SUCCESS <span class="tok-o">[</span>  <span class="tok-m">0</span>.357 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles-killbill ......................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">39</span>.344 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles-killpay .......................... SUCCESS <span class="tok-o">[</span> <span class="tok-m">25</span>.608 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> ------------------------------------------------------------------------
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> BUILD SUCCESS
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> ------------------------------------------------------------------------</code></pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_running_the_application">Running the application</h3><div class="paragraph"><p>Once the build is successful, you can run the application to verify that everything is set up correctly. In order to run the application, you need to follow the steps given below:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Modify the <code>PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</code>. Update the following properties as per your database:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="properties"><span></span><span class="tok-na"> org.killbill.dao.url</span><span class="tok-o">=</span><span class="tok-s">jdbc:mysql://127.0.0.1:3306/killbill</span>
 <span class="tok-c"># For PostgreSQL, use jdbc:postgresql://127.0.0.1:5432/killbill?currentSchema=killbillschema</span>
<span class="tok-na"> org.killbill.dao.user</span><span class="tok-o">=</span><span class="tok-s">root</span>
<span class="tok-na"> org.killbill.dao.password</span><span class="tok-o">=</span><span class="tok-s">root</span>
<span class="tok-na"> org.killbill.dao.logLevel</span><span class="tok-o">=</span><span class="tok-s">DEBUG</span>
<span class="tok-na"> org.killbill.billing.osgi.dao.url</span><span class="tok-o">=</span><span class="tok-s">jdbc:mysql://127.0.0.1:3306/killbill</span>
 <span class="tok-c"># For PostgreSQL, use jdbc:postgresql://127.0.0.1:5432/killbill?currentSchema=killbillschema</span>
<span class="tok-na"> org.killbill.billing.osgi.dao.user</span><span class="tok-o">=</span><span class="tok-s">root</span>
<span class="tok-na"> org.killbill.billing.osgi.dao.password</span><span class="tok-o">=</span><span class="tok-s">root</span></code></pre></div></div></li><li><p>Naviagate to the <strong>PROJECT_ROOT</strong> directory</p></li><li><p>Start Kill Bill by running the following command (Replace <strong>PROJECT_ROOT</strong> with your actual project root):</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span> mvn -Dorg.killbill.server.properties<span class="tok-o">=</span>file:///PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties -Dlogback.configurationFile<span class="tok-o">=</span>./profiles/killbill/src/main/resources/logback.xml jetty:run</code></pre></div></div></li><li><p>This should display the following:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span> <span class="tok-o">[</span>INFO<span class="tok-o">]</span> Started ServerConnector@7de2f9a6<span class="tok-o">{</span>HTTP/1.1, <span class="tok-o">(</span>http/1.1<span class="tok-o">)}{</span><span class="tok-m">0</span>.0.0.0:8080<span class="tok-o">}</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> Started @95008ms
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> Started Jetty Server</code></pre></div></div></li><li><p>Open a browser window and type http://localhost:8080. This should display the following page:<span class="image"><img src="https://github.com/killbill/killbill-docs/raw/v3/userguide/assets/img/development/killbill-homepage.png" alt="killbill homepage"></span></p></li></ol></div></div>
<div class="sect2"><h3 id="_customizing_log_file_path">Customizing Log file Path</h3><div class="paragraph"><p>The steps above configure the application so that the Kill Bill logs are displayed on the console. You can however customise this to save the logs in a separate log file. In order to set this up, you need to follow the steps given below:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Modify the <code>PROJECT_ROOT/profiles/killbill/src/main/resources/logback.xml</code>. Add the following after the license section:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="xml"><span></span> <span class="tok-cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
  <span class="tok-nt">&lt;configuration&gt;</span>
   <span class="tok-nt">&lt;jmxConfigurator</span> <span class="tok-nt">/&gt;</span>
   <span class="tok-nt">&lt;property</span> <span class="tok-na">name=</span><span class="tok-s">&quot;LOGS_DIR&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;&lt;log_file_path&gt;&quot;</span> <span class="tok-nt">/&gt;</span>
   <span class="tok-nt">&lt;conversionRule</span> <span class="tok-na">conversionWord=</span><span class="tok-s">&quot;maskedMsg&quot;</span> <span class="tok-na">converterClass=</span><span class="tok-s">&quot;org.killbill.billing.server.log.obfuscators.ObfuscatorConverter&quot;</span> <span class="tok-nt">/&gt;</span>
   <span class="tok-nt">&lt;appender</span> <span class="tok-na">name=</span><span class="tok-s">&quot;MAIN&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span><span class="tok-nt">&gt;</span>
      <span class="tok-nt">&lt;file&gt;</span>${LOGS_DIR:-./logs}/killbill.out<span class="tok-nt">&lt;/file&gt;</span>
      <span class="tok-nt">&lt;rollingPolicy</span> <span class="tok-na">class=</span><span class="tok-s">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span><span class="tok-nt">&gt;</span>
         <span class="tok-c">&lt;!-- rollover daily --&gt;</span>
         <span class="tok-nt">&lt;fileNamePattern&gt;</span>${LOGS_DIR:-./logs}/killbill-%d{yyyy-MM-dd}.%i.out.gz<span class="tok-nt">&lt;/fileNamePattern&gt;</span>
         <span class="tok-nt">&lt;maxHistory&gt;</span>3<span class="tok-nt">&lt;/maxHistory&gt;</span>
         <span class="tok-nt">&lt;cleanHistoryOnStart&gt;</span>true<span class="tok-nt">&lt;/cleanHistoryOnStart&gt;</span>
         <span class="tok-nt">&lt;timeBasedFileNamingAndTriggeringPolicy</span> <span class="tok-na">class=</span><span class="tok-s">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span><span class="tok-nt">&gt;</span>
            <span class="tok-c">&lt;!-- or whenever the file size reaches 100MB --&gt;</span>
            <span class="tok-nt">&lt;maxFileSize&gt;</span>100MB<span class="tok-nt">&lt;/maxFileSize&gt;</span>
         <span class="tok-nt">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
      <span class="tok-nt">&lt;/rollingPolicy&gt;</span>
      <span class="tok-nt">&lt;encoder&gt;</span>
         <span class="tok-nt">&lt;pattern&gt;</span>%date{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSSZ&quot;, UTC} lvl=&#39;%level&#39;, log=&#39;%logger{0}&#39;, th=&#39;%thread&#39;, xff=&#39;%X{req.xForwardedFor}&#39;, rId=&#39;%X{req.requestId}&#39;, tok=&#39;%X{kb.userToken}&#39;, aRId=&#39;%X{kb.accountRecordId}&#39;, tRId=&#39;%X{kb.tenantRecordId}&#39;, %maskedMsg%n<span class="tok-nt">&lt;/pattern&gt;</span>
      <span class="tok-nt">&lt;/encoder&gt;</span>
   <span class="tok-nt">&lt;/appender&gt;</span>
   <span class="tok-nt">&lt;appender</span> <span class="tok-na">name=</span><span class="tok-s">&quot;STDOUT&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span><span class="tok-nt">&gt;</span>
      <span class="tok-nt">&lt;encoder&gt;</span>
         <span class="tok-c">&lt;!-- See http://jira.qos.ch/browse/LOGBACK-262 --&gt;</span>
         <span class="tok-nt">&lt;pattern&gt;</span>%date{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSSZ&quot;, UTC} lvl=&#39;%level&#39;, log=&#39;%logger{0}&#39;, th=&#39;%thread&#39;, xff=&#39;%X{req.xForwardedFor}&#39;, rId=&#39;%X{req.requestId}&#39;, tok=&#39;%X{kb.userToken}&#39;, aRId=&#39;%X{kb.accountRecordId}&#39;, tRId=&#39;%X{kb.tenantRecordId}&#39;, %maskedMsg%n<span class="tok-nt">&lt;/pattern&gt;</span>
      <span class="tok-nt">&lt;/encoder&gt;</span>
   <span class="tok-nt">&lt;/appender&gt;</span>
   <span class="tok-nt">&lt;logger</span> <span class="tok-na">name=</span><span class="tok-s">&quot;jdbc&quot;</span> <span class="tok-na">level=</span><span class="tok-s">&quot;OFF&quot;</span> <span class="tok-nt">/&gt;</span>
   <span class="tok-nt">&lt;root</span> <span class="tok-na">level=</span><span class="tok-s">&quot;INFO&quot;</span><span class="tok-nt">&gt;</span>
      <span class="tok-nt">&lt;appender-ref</span> <span class="tok-na">ref=</span><span class="tok-s">&quot;MAIN&quot;</span> <span class="tok-nt">/&gt;</span>
   <span class="tok-nt">&lt;/root&gt;</span>
<span class="tok-nt">&lt;/configuration&gt;</span></code></pre></div></div></li><li><p>Replace <code>&lt;log_file_path&gt;</code> above with the path where you want the logs to be created. For example, if you’d like the logs to be in a directory called <code>c:/logs</code>, you need to replace <code>&lt;log_file_path&gt;</code> with <code>c:/logs</code></p></li><li><p>Restart the application by running the Maven command specified above. Now, the logs will be created at the path specified in the <code>logback.xml</code> file as follows:</p><div class="literalblock"><div class="content"><pre>&lt;log_file_path&gt;/killbill.out</pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_setting_up_a_breakpoint_and_remote_debugging">Setting up a Breakpoint and Remote Debugging</h3><div class="paragraph"><p>Sometimes, you may face some issues in running the application. In such cases, it is useful to set up a breakpoint and debug the application. Here is how you can do this:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create a new environment variable <strong>MAVEN_OPTS</strong> and set it to <code>-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n</code></p></li><li><p>Do the following in Eclipse:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Press <strong>Ctrl + Shift + T</strong> and locate the file that you would like to debug. For example, if the application fails to start, you would need to debug the <code>DefaultKillbillConfigSource</code>.</p></li><li><p>If this does not show the source code do the following:</p><div class="olist lowerroman"><ol class="lowerroman" type="i"><li><p>Click <strong>Attach Source</strong>.</p></li><li><p>Click on <strong>External Location</strong> and Navigate to your Maven local repository (<code>~/.m2/repository</code>). Select the jar file corresponding to the file that you want to debug. For the  <code>DefaultKillbillConfigSource</code> you need to select
<code>/org/kill-bill/billing/killbill-platform-base/0.40.4/killbill-platform-base-0.40.4-sources.jar</code> (At the time of writing, <code>0.40.4</code> is the latest version of this jar, however this can change so the exact version might be different for you)</p></li></ol></div></li><li><p>Set up a breakpoint as required. For example, if it is an issue in starting the application, you would need to set up a breakpoint in  <code>DefaultKillbillConfigSource.java#L118</code></p></li><li><p>Click <code>Run &gt; Debug Configurations</code></p></li><li><p>Double click  <code>New Remote Java Application</code></p></li><li><p>Enter the name that you would like to give to this debug configuration in the <strong>Name</strong> field</p></li><li><p>Click <strong>Apply</strong></p></li><li><p>Click <strong>Close</strong></p></li></ol></div></li><li><p>Start the application as explained in <strong>Running the Application</strong> section above</p></li><li><p>Click <code>Run &gt; Debug Configurations</code> and double click the  the Debug configuration that you created above</p></li><li><p>This runs the application in debug mode. You can also set additional breakpoints as required.</p></li></ol></div></div>
<div class="sect2"><h3 id="_some_common_errors_and_their_solutions">Some common errors and their solutions</h3><div class="sect3"><h4 id="_build_failure">Build Failure</h4><div class="paragraph"><p>Sometimes, after building the application, the build may fail with the following errors:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span> <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-payment ................................... SUCCESS <span class="tok-o">[</span><span class="tok-m">01</span>:42 min<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-beatrix ................................... SUCCESS <span class="tok-o">[</span><span class="tok-m">02</span>:04 min<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-jaxrs ..................................... SUCCESS <span class="tok-o">[</span><span class="tok-m">01</span>:45 min<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles .................................. SUCCESS <span class="tok-o">[</span>  <span class="tok-m">9</span>.896 s<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles-killbill ......................... FAILURE <span class="tok-o">[</span><span class="tok-m">02</span>:48 min<span class="tok-o">]</span>
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> killbill-profiles-killpay .......................... SKIPPED
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> ------------------------------------------------------------------------
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> BUILD FAILURE
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> ------------------------------------------------------------------------
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> Total time:  <span class="tok-m">26</span>:55 min
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> Finished at: <span class="tok-m">2020</span>-11-23T10:46:24+05:30
 <span class="tok-o">[</span>INFO<span class="tok-o">]</span> ------------------------------------------------------------------------
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> Failed to execute goal org.apache.rat:apache-rat-plugin:0.13:check <span class="tok-o">(</span>default<span class="tok-o">)</span> on project killbill-profiles-killbill: Too many files with unapproved license: <span class="tok-m">1</span> See RAT report in: &lt;PROJECT_ROOT&gt;<span class="tok-se">\p</span>rofiles<span class="tok-se">\k</span>illbill<span class="tok-se">\t</span>arget<span class="tok-se">\r</span>at.txt -&gt; <span class="tok-o">[</span>Help <span class="tok-m">1</span><span class="tok-o">]</span>
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span>
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> To see the full stack trace of the errors, re-run Maven with the -e switch.
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> Re-run Maven using the -X switch to <span class="tok-nb">enable</span> full debug logging.
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span>
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> For more information about the errors and possible solutions, please <span class="tok-nb">read</span> the following articles:
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> <span class="tok-o">[</span>Help <span class="tok-m">1</span><span class="tok-o">]</span> http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span>
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span> After correcting the problems, you can resume the build with the <span class="tok-nb">command</span>
 <span class="tok-o">[</span>ERROR<span class="tok-o">]</span>   mvn &lt;args&gt; -rf :killbill-profiles-killbill</code></pre></div></div>
<div class="paragraph"><p>This error is most probably because the <code>logback.xml</code> file is missing license information. You can build the application using the following command:</p></div>
<div class="literalblock"><div class="content"><pre>mvn clean install -DskipTests -Dcheck.skip-rat=true</pre></div></div></div>
<div class="sect3"><h4 id="_jetty_does_not_start">Jetty does not start</h4><div class="paragraph"><p>Sometimes, when you run the application, Jetty may fail to start with the following error:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span>  Failed startup of context o.e.j.m.p.JettyWebAppContext@1fafd0af</code></pre></div></div>
<div class="paragraph"><p>In such a case, build the application again using the instructions in the <strong>Build</strong> section above and run the application again.</p></div></div>
<div class="sect3"><h4 id="_application_points_to_default_database">Application points to default database</h4><div class="paragraph"><p>Sometimes, when the application is started, it may not use the database configured in the <code>PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</code>. Instead, it may use the default H2 database and cause the following errors:</p></div>
<div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="bash"><span></span> java.io.IOException: org.h2.jdbc.JdbcSQLNonTransientConnectionException: A file path that is implicitly relative to the current working directory is not allowed in the database URL <span class="tok-s2">&quot;jdbc:h2:file:/var/tmp/killbill;MODE=MYSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;</span>. Use an absolute path, ~/name, ./name, or the baseDir setting instead. <span class="tok-o">[</span><span class="tok-m">90011</span>-200<span class="tok-o">]</span>
        at org.killbill.commons.embeddeddb.h2.H2EmbeddedDB.refreshTableNames<span class="tok-o">(</span>H2EmbeddedDB.java:114<span class="tok-o">)</span>
        at org.killbill.commons.embeddeddb.h2.H2EmbeddedDB.start<span class="tok-o">(</span>H2EmbeddedDB.java:97<span class="tok-o">)</span>
        at org.killbill.billing.server.modules.EmbeddedDBProvider.initializeEmbeddedDB<span class="tok-o">(</span>EmbeddedDBProvider.java:73<span class="tok-o">)</span>
        at org.killbill.billing.server.modules.EmbeddedDBProvider.get<span class="tok-o">(</span>EmbeddedDBProvider.java:60<span class="tok-o">)</span>
        at org.killbill.billing.server.modules.KillbillServerModule.configureEmbeddedDBs<span class="tok-o">(</span>KillbillServerModule.java:141<span class="tok-o">)</span>
        at org.killbill.billing.server.modules.KillbillPlatformModule.configure<span class="tok-o">(</span>KillbillPlatformModule.java:84<span class="tok-o">)</span>
        at org.killbill.billing.server.modules.KillbillServerModule.configure<span class="tok-o">(</span>KillbillServerModule.java:113<span class="tok-o">)</span>
        at com.google.inject.AbstractModule.configure<span class="tok-o">(</span>AbstractModule.java:61<span class="tok-o">)</span>
        at com.google.inject.spi.Elements<span class="tok-nv">$RecordingBinder</span>.install<span class="tok-o">(</span>Elements.java:347<span class="tok-o">)</span>
        at com.google.inject.spi.Elements.getElements<span class="tok-o">(</span>Elements.java:104<span class="tok-o">)</span>
        at com.google.inject.internal.InjectorShell<span class="tok-nv">$Builder</span>.build<span class="tok-o">(</span>InjectorShell.java:137<span class="tok-o">)</span>
        at com.google.inject.internal.InternalInjectorCreator.build<span class="tok-o">(</span>InternalInjectorCreator.java:105<span class="tok-o">)</span>
        at com.google.inject.Guice.createInjector<span class="tok-o">(</span>Guice.java:87<span class="tok-o">)</span></code></pre></div></div>
<div class="paragraph"><p>This error could be due to one of the following issues:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>The path of the  <code>PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</code> is not specified correctly while starting the application.  Ensure that the correct path is specified</p></li><li><p>While starting the application, the <code>PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</code> is specified as <code><a class="bare" href="file://PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties">file://PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</a></code>. The file protocol requires three slashes, so ensure that it is specified as <code><a class="bare" href="file:///">file:///</a></code></p></li><li><p>The database URL is not specified properly, ensure that the <code>PROJECT_ROOT/profiles/killbill/src/main/resources/killbill-server.properties</code> has the correct database properties as specified in the <strong>Running the Application</strong> section above</p></li></ol></div></div></div>
<div class="sect2"><h3 id="_dependencies">Dependencies</h3><div class="paragraph"><p>The base <code>pom.xml</code> (<code>org.kill-bill.billing:killbill-oss-parent</code>) defines all of the dependencies required by Kill Bill. If a <code>-SNAPSHOT</code> version is specified (e.g. <code>0.141.74-SNAPSHOT</code>), this means some dependencies haven&#8217;t been released yet and you need to build them locally, before being able to build Kill Bill.</p></div>
<div class="paragraph"><p>Typically, the following repositories need to be built in order:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p><a href="https://github.com/killbill/killbill-oss-parent">killbill-oss-parent</a></p></li><li><p><a href="https://github.com/killbill/killbill-commons">killbill-commons</a></p></li><li><p><a href="https://github.com/killbill/killbill-platform">killbill-platform</a></p></li></ol></div></div></div></div>
<div class="sect1"><h2 id="_navigating_the_kill_bill_codebase">Navigating the Kill Bill codebase</h2><div class="sectionbody"><div class="paragraph"><p>It can be quite daunting to start poking around the Kill Bill codebase, as the code is scattered over various repositories. Here is a primer on how to get started.</p></div>
<div class="sect2"><h3 id="_core_system">Core system</h3><div class="ulist"><ul><li><p><a class="bare" href="https://github.com/killbill/killbill-api">https://github.com/killbill/killbill-api</a>: Java APIs, used when embedding Kill Bill (advanced users), by the REST API layer (internally) as well as by plugins, which need to interact with the core system.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-plugin-api">https://github.com/killbill/killbill-plugin-api</a>: Java Plugin APIs, which need to be implemented by plugin developers.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-commons">https://github.com/killbill/killbill-commons</a>: similar in concept to Apache Commons, repository of re-useable components. You could use these in your projects even outside of the Kill Bill environment.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-platform">https://github.com/killbill/killbill-platform</a>: underlying Kill Bill platform, contains code unrelated to billing and payments, such as setting up the lifecycle, the OSGI environment, the webapp container bridge, logging, etc.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill">https://github.com/killbill/killbill</a>: the Kill Bill library, containing the core of the system. It is divided into submodules, each one of them being independent (own APIs, own set of tables, etc.) and interacting with other modules either via internal Java APIs or Bus events.</p></li></ul></div>
<div class="paragraph"><p>The following blog posts can help provide more context on the Kill Bill architecture:</p></div>
<div class="ulist"><ul><li><p><a class="bare" href="http://killbill.io/blog/kill-bill-billing-system-architecture/">http://killbill.io/blog/kill-bill-billing-system-architecture/</a></p></li><li><p><a class="bare" href="http://killbill.io/blog/kill-bill-plugins-architecture/">http://killbill.io/blog/kill-bill-plugins-architecture/</a></p></li><li><p><a class="bare" href="http://killbill.io/blog/persistent-bus-in-kill-bill/">http://killbill.io/blog/persistent-bus-in-kill-bill/</a></p></li></ul></div></div>
<div class="sect2"><h3 id="_ecosystem">Ecosystem</h3><div class="ulist"><ul><li><p><a class="bare" href="https://github.com/killbill/killbill-integration-tests">https://github.com/killbill/killbill-integration-tests</a>: while each repository contains its own test suites, from unit tests to functional tests (with and without a persistent layer), as well as end-to-end tests (see the <code>beatrix</code> and <code>profiles/killbill</code> tests in the main killbill repository for example), the killbill-integration-tests repository adds another set of tests which focus on long running scenarii against a running Kill Bill server. This also gives you a base framework to develop your own tests, to verify the integration of Kill Bill in your environment and to make sure it follows your business rules.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-client-java">https://github.com/killbill/killbill-client-java</a>, <a class="bare" href="https://github.com/killbill/killbill-client-ruby">https://github.com/killbill/killbill-client-ruby</a>, etc. provide clients for the HTTP API in various languages.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-stripe-plugin">https://github.com/killbill/killbill-stripe-plugin</a>, <a class="bare" href="https://github.com/killbill/killbill-avatax-plugin">https://github.com/killbill/killbill-avatax-plugin</a>, etc. provide integrations with third-party providers.</p></li><li><p><a class="bare" href="https://github.com/killbill/killbill-analytics-plugin">https://github.com/killbill/killbill-analytics-plugin</a>, etc. provide additional functionality (e.g. notification plugins).</p></li></ul></div></div></div></div>
<div class="sect1"><h2 id="_date_time_and_timezone">Date, Time and Timezone</h2><div class="sectionbody"><div class="paragraph"><p>A few general concepts around time in Kill Bill:</p></div>
<div class="ulist"><ul><li><p>Kill Bill&#8217;s granularity is the day, and as a result the system will not invoice for portions of a day.</p></li><li><p>Each account in Kill Bill has a default timezone and that timezone is used throughout the system to be able to convert a DateTime into a Date into the account Timezone.</p></li><li><p>Kill Bill will internally use UTC for all its Datetime manipulation, but any Date information is interpreted as a Date in the account timezone.</p></li></ul></div>
<div class="sect2"><h3 id="_mysql_date_datetime_timestamp">Mysql Date, DateTime, Timestamp</h3><div class="paragraph"><p>We are only relying on date and datetime which are not sensitive to the MySQL timezone setting:</p></div>
<div class="ulist"><ul><li><p>Datetime: Storing a Datetime value into MySQL relies on <code>datetime</code> which is independent of the mysql time_zone. It is stored as a UTC value, and the selected value is always the same, regardless of the MySQL timezone.</p></li><li><p>LocalDate: Storing a LocalDate value into MySQL relies on <code>date</code> which is also independent of the MySQL time_zone.</p></li></ul></div></div>
<div class="sect2"><h3 id="_system_configuration">System Configuration</h3><div class="paragraph"><p>From an operation point of view, there are different places where timezone may be set:</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Server on which Kill Bill runs</p></li><li><p>JVM setting</p></li><li><p>Database server</p></li></ol></div>
<div class="paragraph"><p><strong>It is required to have Kill Bill runs in UTC for correct serialization of DateTime/LocalDate.</strong> Actually, in Java, there is no UTC timezone setting but instead <code>GMT</code>. In a first approximation, we will consider those identical, even though they are not and could lead to some rare issues.</p></div>
<div class="paragraph"><p>When Kill Bill starts, it will override the default timezone if this one was specified as a system property with something different than GMT. The code will log a WARN message and proceed to do so, to avoid issues later down the road.</p></div></div>
<div class="sect2"><h3 id="_rest_apis">REST APIs</h3><div class="paragraph"><p>Kill Bill APIs that accept dates as an argument will allow for the following:</p></div>
<div class="ulist"><ul><li><p>A fully qualified Datetime (a point in time)</p></li><li><p>A Date</p></li></ul></div>
<div class="paragraph"><p>If there is a need to convert from a Datetime to a Date, the conversion will occur by specifying the account timezone, so the resulting Date is as seen by the customer. This would for instance be the case when triggering a future invoice by specifying a target Datetime.</p></div>
<div class="paragraph"><p>If there is a need to convert from a Date to Datetime, this is obviously more subtle as we can&#8217;t infer the additional precision to compute the time. The Date is always interpreted to be a Date as seen by the customer, that is in the account timezone.</p></div>
<div class="paragraph"><p>The system will use the reference time on the account in such a way that converting back from that fully qualified Datetime using the account timezone would give us back the original Date provided.</p></div></div>
<div class="sect2"><h3 id="_multiple_changes_in_a_day">Multiple changes in a day</h3><div class="paragraph"><p>So what happens if a user is making several subscription changes within the same day?</p></div>
<div class="paragraph"><p>In the default mode, Kill Bill will react to changes immediately and trigger a new invoice for each change, which in turn might result in a charge.</p></div>
<div class="paragraph"><p>Let&#8217;s consider the following case, where there exists 3 monthly plans (Bronze, Silver and Gold), ordered by ascending price:</p></div>
<div class="ulist"><ul><li><p>Initially, the customer is invoiced for the Bronze, from january 1st to feb 1st. By default a payment would also be made.</p></li><li><p>On January 1st again, the customer changes its mind and moves to Silver. A new invoice is generated that will credit the full month&#8201;&#8212;&#8201;including the day of january 1st&#8201;&#8212;&#8201;and the new plan is now invoiced from january 1st to february 1st and the credit generated is immediately used, so in the end the customer is really only invoiced for the difference of the price between the 2 plans; Additionally, a new payment is made for that amount.</p></li><li><p>If now the customer changes its plan on Jan 2nd, the portion from January 1st to January 2nd will be invoiced for the Silver plan and the portion from January 2nd to February 1st will be invoiced for the Gold plan.</p></li></ul></div>
<div class="paragraph"><p>From an entitlement point of view, the system will reflect the current plan and therefore two different calls to retrieve the plan information on January 1st may lead to different results since there was a change of plan during that day.</p></div></div></div></div></div></div></div></div><div class="container-fluid"><div class="row"><div class="col-12 border-columns"></div><div id="footer"><div id="footer-text">Last updated 2021-01-11 23:47:49 +0500</div><script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create','UA-32705710-3','auto');
          ga('send','pageview');
          var getOutboundLink = function(url) {
            ga('send', {
              hitType: 'event',
              eventCategory: 'outbound',
              eventAction: 'click',
              eventLabel: url,
              hitCallback: function(){document.location = url;}
            });
          }
          </script></div><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script><script src="https://cdn.staticaly.com/gh/afeld/bootstrap-toc/v1.0.0/dist/bootstrap-toc.min.js"></script></body></html>